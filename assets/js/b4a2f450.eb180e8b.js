"use strict";(self.webpackChunkgrc=self.webpackChunkgrc||[]).push([[25769],{11045:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"iowarp/components/content-transfer-engine/programming","title":"Programming","description":"This section gives a high-level example of the core Hermes APIs.","source":"@site/docs/11-iowarp/03-components/05-content-transfer-engine/07-programming.md","sourceDirName":"11-iowarp/03-components/05-content-transfer-engine","slug":"/iowarp/components/content-transfer-engine/programming","permalink":"/docs/iowarp/components/content-transfer-engine/programming","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Adapters","permalink":"/docs/iowarp/components/content-transfer-engine/adapters"},"next":{"title":"Buffer Organizer","permalink":"/docs/iowarp/components/content-transfer-engine/components/buffer-organizer"}}');var s=t(74848),a=t(28453);const o={},i="Programming",c={},l=[{value:"Blob API Example",id:"blob-api-example",level:2},{value:"STL API Example",id:"stl-api-example",level:2}];function m(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"programming",children:"Programming"})}),"\n",(0,s.jsx)(n.p,{children:"This section gives a high-level example of the core Hermes APIs."}),"\n",(0,s.jsxs)(n.p,{children:["To see demonstrations of the API, check out our ",(0,s.jsx)(n.a,{href:"https://github.com/iowarp/content-transfer-engine/blob/main/test/unit/hermes/test_bucket.cc",children:"API tests"})]}),"\n",(0,s.jsx)(n.h2,{id:"blob-api-example",children:"Blob API Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'#include <cassert>\n\n#include "hermes/hermes.h"\n\nint main() {\n  HERMES_INIT();\n  hermes::Bucket bkt("hello");\n  size_t blob_size = KILOBYTES(4);\n  hermes::Context ctx;\n\n  hermes::Blob blob1(1024);\n  bkt.Put("0", blob1, ctx);\n\n  hermes::Blob blob2(1024);\n  bkt.Get("0", blob2, ctx);\n\n  assert(blob1 == blob2);\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"stl-api-example",children:"STL API Example"}),"\n",(0,s.jsx)(n.p,{children:"This example will place a blob into the DMSH and then retrieve that blob."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'#include <cassert>\n\n#include "hermes/hermes.h"\n\nint main() {\n  HERMES_INIT();\n  hermes::Bucket bkt("hello");\n  size_t blob_size = KILOBYTES(4);\n  hermes::Context ctx;\n\n  std::vector<int> data_put(1024, 0);\n  bkt.Put<std::vector<int>>("0", data_put, ctx);\n\n  std::vector<int> data_get(1024, 1);\n  bkt.Get<std::vector<int>>("0", data_get, ctx);\n\n  assert(data_put == data_get);\n}\n'})}),"\n",(0,s.jsx)(n.h1,{id:"linking-with-cmake",children:"Linking with CMake"}),"\n",(0,s.jsx)(n.p,{children:"Below is an example CMakeLists.txt to link with hermes."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cmake",children:'cmake_minimum_required(VERSION 3.25)\nproject(hermes_external)\n\nset(CMAKE_CXX_STANDARD 17)\n\nfind_package(Hermes REQUIRED)\nmessage("Found hermes at ${HERMES_LIB_DIR}")\nadd_executable(test_hermes_external_compile\n        external.cc\n)\ntarget_link_libraries(test_hermes_external_compile\n        hermes::hermes_core_client)\n'})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var r=t(96540);const s={},a=r.createContext(s);function o(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);