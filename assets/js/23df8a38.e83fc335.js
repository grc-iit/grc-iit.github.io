"use strict";(self.webpackChunkgrc=self.webpackChunkgrc||[]).push([[7348],{43289:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"iowarp/deployment/deploy-hermes-solo","title":"Deploy Hermes Alone","description":"This section will go over an example of how to use jarvis to deploy","source":"@site/docs/11-iowarp/02-deployment/03-deploy-hermes-solo.md","sourceDirName":"11-iowarp/02-deployment","slug":"/iowarp/deployment/deploy-hermes-solo","permalink":"/docs/iowarp/deployment/deploy-hermes-solo","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Jarvis-CD","permalink":"/docs/iowarp/deployment/jarvis"},"next":{"title":"Deploying Hermes with an Application","permalink":"/docs/iowarp/deployment/deploy-hermes-with-ior"}}');var r=l(74848),s=l(28453);const a={},o="Deploy Hermes Alone",t={},p=[{value:"Building an Environment",id:"building-an-environment",level:2},{value:"Load an example pipeline",id:"load-an-example-pipeline",level:2},{value:"Run the pipeline",id:"run-the-pipeline",level:2},{value:"Stopping and Killing Hermes",id:"stopping-and-killing-hermes",level:2},{value:"Cleanup",id:"cleanup",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"deploy-hermes-alone",children:"Deploy Hermes Alone"})}),"\n",(0,r.jsx)(n.p,{children:"This section will go over an example of how to use jarvis to deploy\nHermes. Here our objective is only to get Hermes up and running.\nWe will give example applications in a different article."}),"\n",(0,r.jsx)(n.h2,{id:"building-an-environment",children:"Building an Environment"}),"\n",(0,r.jsx)(n.p,{children:"We will now load all necessary environment variables and build a\nJarvis environment named hermes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"spack load iowarp\njarvis env build hermes\n"})}),"\n",(0,r.jsx)(n.p,{children:"hermes will store all important environment variables, including PATH,\nLD_LIBRARY_PATH, etc. in a YAML file. This will make it so that you do not\nneed to repeatedly run spack load and module load if the machine is broken."}),"\n",(0,r.jsx)(n.h2,{id:"load-an-example-pipeline",children:"Load an example pipeline"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"jarvis ppl index copy jarvis_hermes.hermes.test_hermes\njarvis ppl load yaml test_hermes.yaml\n"})}),"\n",(0,r.jsx)(n.p,{children:"This will copy the test_hermes pipeline script to the current\ndirectory as test_hermes.yaml. You could then play with\nthe parameters from there."}),"\n",(0,r.jsx)(n.h2,{id:"run-the-pipeline",children:"Run the pipeline"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"jarvis ppl run\n"})}),"\n",(0,r.jsx)(n.h2,{id:"stopping-and-killing-hermes",children:"Stopping and Killing Hermes"}),"\n",(0,r.jsx)(n.p,{children:"To gracefully stop Hermes and flush data back to the PFS:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"jarvis ppl stop\n"})}),"\n",(0,r.jsx)(n.p,{children:"To kill a Hermes deployment that isn't stopping gracefully:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"jarvis ppl kill\n"})}),"\n",(0,r.jsx)(n.h2,{id:"cleanup",children:"Cleanup"}),"\n",(0,r.jsx)(n.p,{children:"To erase data produced by the pipeline:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"jarvis ppl clean\n"})}),"\n",(0,r.jsx)(n.p,{children:"To destroy the pipeline:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"jarvis ppl destroy\n"})})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,l)=>{l.d(n,{R:()=>a,x:()=>o});var i=l(96540);const r={},s=i.createContext(r);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);