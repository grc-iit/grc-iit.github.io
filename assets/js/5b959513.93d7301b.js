"use strict";(self.webpackChunkgrc=self.webpackChunkgrc||[]).push([[19114],{4548:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>g,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"type":"mdx","permalink":"/research/projects/dayu","source":"@site/src/pages/research/projects/dayu.mdx","title":"DaYu: Optimizing Workflow Performance by Elucidating Semantic Data Flow","description":"Distributed scientific workflows nowadays face challenges in data movement through storage systems.","frontMatter":{"title":"DaYu: Optimizing Workflow Performance by Elucidating Semantic Data Flow"},"unlisted":false}');var a=i(74848),t=i(28453),r=i(18845);const o={title:"DaYu: Optimizing Workflow Performance by Elucidating Semantic Data Flow"},l="DaYu: Optimizing Workflow Performance by Elucidating Semantic Data Flow",c={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Background",id:"background",level:2},{value:"Approach",id:"approach",level:2},{value:"Case Study I: Storm Tracking Workflow",id:"case-study-i-storm-tracking-workflow",level:2},{value:"Case Study II: DeepDriveMD Workflow",id:"case-study-ii-deepdrivemd-workflow",level:2},{value:"Workflow Task-File DAG",id:"workflow-task-file-dag",level:3},{value:"Semantic DAG 1",id:"semantic-dag-1",level:3},{value:"Semantic DAG 2",id:"semantic-dag-2",level:3},{value:"Conclusion",id:"conclusion",level:2},{value:"Members",id:"members",level:2},{value:"Sponsor",id:"sponsor",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:(0,a.jsx)("img",{src:i(95588).A,width:"200"})}),"\n",(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"dayu-optimizing-workflow-performance-by-elucidating-semantic-data-flow",children:"DaYu: Optimizing Workflow Performance by Elucidating Semantic Data Flow"})}),"\n",(0,a.jsx)(r.A,{projectId:"dayu"}),"\n",(0,a.jsx)(n.p,{children:"Distributed scientific workflows nowadays face challenges in data movement through storage systems.\nDaYu employs careful runtime measurement, maps domain semantics to low-level I/O operations, and utilizes\neffective visualization and analysis of semantic data flows to understand how semantic datasets move through storage."}),"\n",(0,a.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,a.jsx)(n.p,{children:"High-Performance Computing (HPC) workflows are evolving with increasing data intensity.\nThese workflows are growing in complexity, featuring multiple stages encompassing simulation, analysis,\nand AI applications with diverse data demands.\nData transfer between HPC tasks currently relies on shared storage layers like Parallel File System (PFS)\nand Burst Buffer, which can suffer from slow access and I/O contention."}),"\n",(0,a.jsx)(n.p,{children:"Enhancing data movement within workflows poses a significant challenge.\nStrategic task scheduling, data caching, and staging have emerged as\neffective means to boost I/O performance by reducing computation wait times.\nWith more I/O expertise, one can also utilize and fine-tune various I/O\nlibraries, middleware, and file system configurations. The tuning often\nrequires iterative testing and are limited to specific workload, whille other\nworkloads still experiencing high latency with shared storage."}),"\n",(0,a.jsx)(n.p,{children:"Understanding I/O behavior is imperative when deciding on the correct strategies to enhance data access.\nDetails about data access within workflow tasks can effectively guide improvements in I/O and system configuration.\nExisting application I/O profiling tools lack the ability to provide analyze of data access behavior across\ntasks in a workflow and capture semantic\ninformation related to its low-level I/O requests. Such tools would\nbe valuable for providing more straightforward insights into\ndata access patterns across multiple tasks. By filling this gap, we\ncan develop better methods for managing data movement and\noptimizing the overall workflow."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"In this work, we unveil a fresh workflow optimization perspective with"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"careful runtime measurement of data access metrics,"}),"\n",(0,a.jsx)(n.li,{children:"recovering the mapping of domain semantics to low-level I/O operations, and"}),"\n",(0,a.jsx)(n.li,{children:"effective visualization and analysis of semantic data flows for the complete workflow."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"background",children:"Background"}),"\n",(0,a.jsxs)("center",{children:[(0,a.jsx)("p",{children:(0,a.jsx)("img",{src:i(36816).A,width:"500"})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"HDF5 File Structure Overview"})})]}),"\n",(0,a.jsx)(n.p,{children:"HDF5 is a widely used storage format and I/O libraries in scientific applications"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Hierarchical structure of groups, datasets, and attributes"}),"\n",(0,a.jsx)(n.li,{children:"Allows enriched metadata that describes different data characteristics"}),"\n",(0,a.jsx)(n.li,{children:"Extensive API enabling tracking of its high-level data object and the low-level I/O"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"approach",children:"Approach"}),"\n",(0,a.jsx)(n.p,{children:"The project's major challenges include mapping data semantics to I/O access,\ntracking data flow across tasks, and visualizing coordination and time.\nOur approach consists of three steps:"}),"\n",(0,a.jsx)("center",{children:(0,a.jsx)("p",{children:(0,a.jsx)("img",{src:i(7081).A,width:"800"})})}),"\n",(0,a.jsx)(n.h2,{id:"case-study-i-storm-tracking-workflow",children:"Case Study I: Storm Tracking Workflow"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"PyFLEXTRKR"})," uses a flexible atmospheric feature tracking software package\nfor weather research and forecast datasets."]}),"\n",(0,a.jsxs)("center",{children:[(0,a.jsx)("p",{children:(0,a.jsx)("img",{src:i(65420).A,width:"800"})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Six-Stages Pipeline PyFLEXTRKR Workflow."})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Observations"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Inter-task Data Reuse"}),": task 2, 4, and 6 uses files produced by the first task."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Time-dependents inputs"}),": some input files are required at different time point."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Data None-Used"}),": file produced by task 4 is not used by any later task."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Opportunities"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Tasks that use common datasets can be scheduled on the same resource."}),"\n",(0,a.jsx)(n.li,{children:"Input can be stage-in at different time points of the workflow."}),"\n",(0,a.jsx)(n.li,{children:"not used by later tasks can be immediately offloaded to free up memory."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"case-study-ii-deepdrivemd-workflow",children:"Case Study II: DeepDriveMD Workflow"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"DeepDriveMD"})," (DDMD) is a deep learning-driven molecular dynamics\nsimulations workflow for protein folding."]}),"\n",(0,a.jsx)(n.h3,{id:"workflow-task-file-dag",children:"Workflow Task-File DAG"}),"\n",(0,a.jsxs)("center",{children:[(0,a.jsx)("p",{children:(0,a.jsx)("img",{src:i(27331).A,width:"800"})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Four-Stages Pipeline Workflow (simulation, aggregate, train, and inference)."})})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Observation"}),": No data dependencies between ",(0,a.jsx)(n.code,{children:"Train"})," and ",(0,a.jsx)(n.code,{children:"Inference"})," tasks,\nas we can see that both of them reads input aggregated.h5, and output different\nsets of files that are not used by each other."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Opportunity"}),": ",(0,a.jsx)(n.code,{children:"Inference"})," and ",(0,a.jsx)(n.code,{children:"Train"})," tasks can be parallelized\nwithout violating data dependency correctness."]}),"\n",(0,a.jsx)(n.h3,{id:"semantic-dag-1",children:"Semantic DAG 1"}),"\n",(0,a.jsxs)("center",{children:[(0,a.jsx)("p",{children:(0,a.jsx)("img",{src:i(36764).A,width:"800"})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Aggregate Stage Close-Up Semantic DAG with Two Datasets."})})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Observation"}),": The ",(0,a.jsx)(n.code,{children:"Aggregate"})," task alters the data layout of large datasets without changing the content.\nOver 95% of the data volume is from the ",(0,a.jsx)(n.code,{children:"contact_map"})," dataset, while only small amount is from the\n",(0,a.jsx)(n.code,{children:"point_cloud"})," dataset."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Opportunity"}),": Removing the ",(0,a.jsx)(n.code,{children:"Aggregate"})," task does not compromise the correctness of the program.\nWe have ",(0,a.jsx)(n.code,{children:"Train"})," and ",(0,a.jsx)(n.code,{children:"Inference"})," task reading input directly from simulation, this can reduce unnecessary\ndata manipulation and movement and improve data access parallelism."]}),"\n",(0,a.jsx)(n.h3,{id:"semantic-dag-2",children:"Semantic DAG 2"}),"\n",(0,a.jsxs)("center",{children:[(0,a.jsx)("p",{children:(0,a.jsx)("img",{src:i(73174).A,width:"800"})}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"DDMD Train Stage Read File I/O Performance Detail."})})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Observation"}),": The ",(0,a.jsx)(n.code,{children:"Train"})," task is not accessing all the datasets present in the ",(0,a.jsx)(n.code,{children:"aggregated.h5"})," file.\nIn fact, it is not using the largest datasets which takes up 95% of the file space (from previous observation)."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Opportunities"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Removing the ",(0,a.jsx)(n.code,{children:"Aggregate"})," task can minimize unnecessary data transfers."]}),"\n",(0,a.jsxs)(n.li,{children:["Caching a subset of the ",(0,a.jsx)(n.code,{children:"aggregated.h5"})," file does not violate task-data dependencies."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,a.jsx)(n.p,{children:"Nowadays in HPC applications, there is a lack of tools to understand\ndata flow between tasks in a workflow. This study introduced Semantic DAGs,\nan enriched version of traditional DAGs. Precise measurements allowed us\nto reconstruct mappings between tasks and meaningful data objects down to\nI/O with file addresses. With visualization of task-to-data mapping and\nextracted performance statistics, we can gain new insight into workflow\noptimization opportunities."}),"\n",(0,a.jsx)(n.p,{children:"Our future work will focus on enhancing the analysis method and creating\na generalized approach for customized data placement in workflows.\nWe aim to achieve this through I/O buffering middleware and apply our\nanalysis for effective I/O system tuning to meet workload requirements."}),"\n",(0,a.jsx)(n.h2,{id:"members",children:"Members"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Meng Tang","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"PhD Student @ GRC"}),"\n",(0,a.jsx)(n.li,{children:"Illinois Institute of Technology"}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"mailto:mtang11@hawk.illinoistech.edu",children:"Contact"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://www.pnnl.gov/people/nathan-tallent",children:"Dr. Nathan R. Tallent"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Co-Principal Investigator"}),"\n",(0,a.jsx)(n.li,{children:"Pacific Northwest National Laboratory (PNNL)"}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"mailto:nathan.tallent@pnnl.gov",children:"Contact"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://www.iit.edu/directory/people/antonios-kougkas",children:"Dr. Anthony Kougkas"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Co-Principal Investigator"}),"\n",(0,a.jsx)(n.li,{children:"Illinois Institute of Technology"}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"mailto:akougkas@illinoistech.edu",children:"Contact"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://www.iit.edu/directory/people/xian-he-sun",children:"Dr. Xian-He Sun"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Principal Investigator"}),"\n",(0,a.jsx)(n.li,{children:"Illinois Institute of Technology"}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"mailto:sun@illinoistech.edu",children:"Contact"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"sponsor",children:"Sponsor"}),"\n",(0,a.jsx)("p",{children:(0,a.jsx)("img",{src:i(1104).A,width:"100"})}),"\n",(0,a.jsx)(n.p,{children:'This research is supported by the U.S. Department of Energy (DOE) through\nthe Office of Advanced Scientific Computing Research\'s\n"Orchestration for Distributed & Data-Intensive Scientific Exploration."'}),"\n",(0,a.jsx)("p",{children:(0,a.jsx)("img",{src:i(40897).A,width:"100"})}),"\n",(0,a.jsx)(n.p,{children:"This research is also based upon work supported by the\nNational Science Foundation under Grant no.\nNSF CSSI-2104013."})]})}function g(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},18845:(e,n,i)=>{i.d(n,{A:()=>d});i(96540);var s=i(34164),a=i(46784),t=i(66188),r=i(71429),o=i(66588);const l={badgeDarker:"badgeDarker_Lm_2"};var c=i(74848);function d({addMargin:e=!0,projectId:n}){const{projects:i}=(0,o.P_)("grc-plugin-projects"),d=(0,r.G)(i,n);if(!d)return null;const{isOurs:h=!1,sourceLink:g,tutorialLink:u,type:p}=d,m="funded"===p;return m||h||g||u?(0,c.jsxs)("div",{className:(0,s.A)(e&&"margin-bottom--md"),children:[h&&(0,c.jsx)("span",{className:"badge badge--primary margin-right--xs",children:"GRC-led"}),m&&(0,c.jsx)("span",{className:"badge badge--success margin-right--xs",children:"Funded"}),void 0!==g&&(0,c.jsxs)("a",{className:(0,s.A)("badge badge--secondary margin-right--xs",l.badgeDarker),href:g,rel:"noreferrer",style:{color:"var(--ifm-color-black) !important"},target:"_blank",children:["Open Source",(0,c.jsx)(a.g,{className:"margin-left--xs",icon:t.Ju_,size:"sm",style:{color:"var(--ifm-color-black)"}})]}),void 0!==u&&(0,c.jsxs)("a",{className:"badge badge--danger margin-right--xs",href:u,rel:"noreferrer",style:{backgroundColor:"var(--ifm-color-warning-lightest) !important",borderColor:"var(--ifm-color-warning-lightest) !important",color:"var(--ifm-color-black) !important"},target:"_blank",children:["Tutorial",(0,c.jsx)(a.g,{className:"margin-left--xs",icon:t.Ju_,size:"sm",style:{color:"var(--ifm-color-black)"}})]})]}):null}},71429:(e,n,i)=>{i.d(n,{G:()=>s});const s=(e,n)=>e.find((e=>e.id===n))},1104:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/doe-822c0ac8103843a4445244cc56c3f792.png"},40897:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/nsf-fb7efe9286a9b499c5907d82af3e70fd.png"},36764:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/DDMD_aggregate_detail-1a5279f54d77cc151d48d661c0c0ed44.png"},73174:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/DDMD_train_dset-a3d6ccda7c6e8e4052500a9d4b182a24.png"},27331:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/DDMD_workflow-boxed-e0a1869e02a03a8d82f1c60966c5c7fd.png"},7081:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/Graph-Overview-cad5b28b88140da124417cb4e2f32658.png"},95588:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/dayu-logo2-24f251d13254d9efed5f23ea01af9f75.png"},36816:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/hdf5_structure-15509d44791e320843dcca25085602c3.png"},65420:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/wrf_pyflextrkr_workflow-341a7b60a5413ec32baf02784773ea17.png"},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>o});var s=i(96540);const a={},t=s.createContext(a);function r(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);