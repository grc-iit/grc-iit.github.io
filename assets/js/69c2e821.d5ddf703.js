"use strict";(self.webpackChunkgrc=self.webpackChunkgrc||[]).push([[4739],{6618:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>t,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"iowarp/shared-memory/index","title":"Hermes SHM","description":"This library contains a variety of data structures and synchronization primitives which are compatible with shared memory. This library is also compatible with CUDA and ROCm.","source":"@site/docs/07-iowarp/01-shared-memory/01-index.md","sourceDirName":"07-iowarp/01-shared-memory","slug":"/iowarp/shared-memory/index","permalink":"/docs/iowarp/shared-memory/index","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"IOWARP","permalink":"/docs/iowarp/iowarp"},"next":{"title":"Hermes-Shm Abstractions","permalink":"/docs/iowarp/shared-memory/abstractions"}}');var i=r(4848),a=r(8453);const t={},o="Hermes SHM",l={},c=[{value:"Installation: Users",id:"installation-users",level:2},{value:"Installation: Devs",id:"installation-devs",level:2},{value:"CMake",id:"cmake",level:2},{value:"For CPU-Only Version",id:"for-cpu-only-version",level:3},{value:"For CUDA Version",id:"for-cuda-version",level:3},{value:"For ROCM Version",id:"for-rocm-version",level:3},{value:"Tests",id:"tests",level:2}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"hermes-shm",children:"Hermes SHM"})}),"\n",(0,i.jsx)(s.p,{children:"This library contains a variety of data structures and synchronization primitives which are compatible with shared memory. This library is also compatible with CUDA and ROCm."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://coveralls.io/github/lukemartinlogan/hermes_shm?branch=master",children:(0,i.jsx)(s.img,{src:"https://coveralls.io/repos/github/lukemartinlogan/hermes_shm/badge.svg?branch=master",alt:"Coverage Status"})})}),"\n",(0,i.jsx)(s.h2,{id:"installation-users",children:"Installation: Users"}),"\n",(0,i.jsx)(s.p,{children:"For those installing this component (rather than all of iowarp):"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"git clone https://github.com/grc-iit/grc-repo.git\nspack repo add grc-repo\nspack install hermes_shm\n"})}),"\n",(0,i.jsx)(s.h2,{id:"installation-devs",children:"Installation: Devs"}),"\n",(0,i.jsx)(s.p,{children:"This will install dependencies of hermes-shm:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"git clone https://github.com/grc-iit/grc-repo.git\nspack repo add grc-repo\nspack install hermes_shm +nocompile\nspack load hermes_shm +nocompile\n"})}),"\n",(0,i.jsx)(s.p,{children:"NOTE: spack load needs to be done for each new terminal."}),"\n",(0,i.jsx)(s.p,{children:"This will compile:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"git clone https://github.com/grc-iit/hermes-shm.git\ncd hermes-shm\nmkdir build\ncd build\ncmake ../ -DHSHM_ENABLE_CUDA=OFF -DHSHM_ENABLE_ROCM=OFF\nmake -j8\n"})}),"\n",(0,i.jsx)(s.h2,{id:"cmake",children:"CMake"}),"\n",(0,i.jsx)(s.h3,{id:"for-cpu-only-version",children:"For CPU-Only Version"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'find_package(HermesShm CONFIG REQUIRED)\nmessage(STATUS "found hermes_shm.h at ${HermesShm_INCLUDE_DIRS}")\ntarget_link_libraries(hshm::cxx)\n'})}),"\n",(0,i.jsx)(s.h3,{id:"for-cuda-version",children:"For CUDA Version"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'find_package(HermesShm CONFIG REQUIRED)\nmessage(STATUS "found hermes_shm.h at ${HermesShm_INCLUDE_DIRS}")\ntarget_link_libraries(hshm::cudacxx)\n'})}),"\n",(0,i.jsx)(s.h3,{id:"for-rocm-version",children:"For ROCM Version"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'find_package(HermesShm CONFIG REQUIRED)\nmessage(STATUS "found hermes_shm.h at ${HermesShm_INCLUDE_DIRS}")\ntarget_link_libraries(hshm::rocmcxx_gpu)\n'})}),"\n",(0,i.jsx)(s.h2,{id:"tests",children:"Tests"}),"\n",(0,i.jsx)(s.p,{children:"To run the tests, do the following:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"ctest\n"})}),"\n",(0,i.jsx)(s.p,{children:"To run the MPSC queue tests, do the following:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"ctest -VV -R test_mpsc_queue_mpi\n"})})]})}function d(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>t,x:()=>o});var n=r(6540);const i={},a=n.createContext(i);function t(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);