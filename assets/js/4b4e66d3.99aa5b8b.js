"use strict";(self.webpackChunkgrc=self.webpackChunkgrc||[]).push([[48803],{54295:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>t,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"jarvis/jarvis-cd/pipeline-indexes","title":"Pipeline Indexes","description":"Pipeline indexes are folders containing pipeline scripts.","source":"@site/docs/81-jarvis/02-jarvis-cd/07-pipeline-indexes.md","sourceDirName":"81-jarvis/02-jarvis-cd","slug":"/jarvis/jarvis-cd/pipeline-indexes","permalink":"/docs/jarvis/jarvis-cd/pipeline-indexes","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Pipeline Tests","permalink":"/docs/jarvis/jarvis-cd/pipeline-tests"},"next":{"title":"Custom Repos","permalink":"/docs/jarvis/jarvis-cd/custom-repos"}}');var r=i(74848),a=i(28453);const t={},d="Pipeline Indexes",c={},l=[{value:"Adding a Pipeline Index",id:"adding-a-pipeline-index",level:2},{value:"List indexes",id:"list-indexes",level:2},{value:"Index Queries",id:"index-queries",level:2},{value:"Use a script from an index",id:"use-a-script-from-an-index",level:2},{value:"Copy a script from an index",id:"copy-a-script-from-an-index",level:2}];function p(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"pipeline-indexes",children:"Pipeline Indexes"})}),"\n",(0,r.jsx)(n.p,{children:"Pipeline indexes are folders containing pipeline scripts.\nThey can be used to disseminate working examples of your code.\nFor example, pipelines scripts used for unit tests would be good to have\nin a pipeline index."}),"\n",(0,r.jsx)(n.h2,{id:"adding-a-pipeline-index",children:"Adding a Pipeline Index"}),"\n",(0,r.jsxs)(n.p,{children:["Pipeline indexes are stored within repos as a subdirectory named\n",(0,r.jsx)(n.code,{children:"pipelines"}),". It is required to be named ",(0,r.jsx)(n.code,{children:"pipelines"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Below is an example structure of a jarvis repo containing a pipeline index."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"jarvis_chimaera # Repo\n\u251c\u2500\u2500 jarvis_chimaera  # Jarvis Packages\n\u2502   \u251c\u2500\u2500 chimaera_bw_bench\n\u2502   \u251c\u2500\u2500 chimaera_docker\n\u2502   \u251c\u2500\u2500 chimaera_latency_bench\n\u2502   \u251c\u2500\u2500 chimaera_run\n\u2502   \u251c\u2500\u2500 chimaera_unit_tests\n\u2502   \u2514\u2500\u2500 chimaera_zlib_bench\n\u2514\u2500\u2500 pipelines  # Pipeline Index\n    \u251c\u2500\u2500 bench_bw_ipc.yaml\n    \u251c\u2500\u2500 bench_latency_ipc.yaml\n    \u251c\u2500\u2500 test_bdev_io.yaml\n    \u251c\u2500\u2500 test_bdev_ram.yaml\n    \u251c\u2500\u2500 test_bulk_ipc.yaml\n    \u251c\u2500\u2500 test_bulk_read_ipc.yaml\n    \u251c\u2500\u2500 test_bulk_write_ipc.yaml\n    \u251c\u2500\u2500 test_compress.yaml\n    \u251c\u2500\u2500 test_ipc_rocm.yaml\n    \u251c\u2500\u2500 test_ipc.yaml\n    \u251c\u2500\u2500 test_python.yaml\n    \u251c\u2500\u2500 test_serialize.yaml\n    \u2514\u2500\u2500 test_upgrade.yaml\n"})}),"\n",(0,r.jsx)(n.p,{children:"Below is another example with an index containing subdirectories:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"jarvis_hermes  # Repo\n\u251c\u2500\u2500 jarvis_hermes  # Jarvis Packages\n\u2502   \u251c\u2500\u2500 hermes_api\n\u2502   \u2502   \u251c\u2500\u2500 pkg.py\n\u2502   \u2502   \u2514\u2500\u2500 README.md\n\u2502   \u251c\u2500\u2500 hermes_api_bench\n\u2502   \u2502   \u251c\u2500\u2500 pkg.py\n\u2502   \u2502   \u2514\u2500\u2500 README.md\n\u2514\u2500\u2500 pipelines  # Pipeline Index\n    \u251c\u2500\u2500 hermes\n    \u2502   \u2514\u2500\u2500 test_hermes.yaml\n    \u251c\u2500\u2500 mpiio\n    \u2502   \u251c\u2500\u2500 test_hermes_mpiio_basic_async.yaml\n    \u2502   \u251c\u2500\u2500 test_hermes_mpiio_basic_sync.yaml\n    \u2502   \u2514\u2500\u2500 test_mpiio_basic.yaml\n    \u251c\u2500\u2500 nvidia_gds\n    \u2502   \u251c\u2500\u2500 test_hermes_nvidia_gds.yaml\n    \u2502   \u2514\u2500\u2500 test_nvidia_gds_basic.yaml\n    \u251c\u2500\u2500 posix\n    \u2502   \u251c\u2500\u2500 test_hermes_posix_basic_large.yaml\n    \u2502   \u251c\u2500\u2500 test_hermes_posix_basic_mpi_large.yaml\n    \u2502   \u251c\u2500\u2500 test_hermes_posix_basic_mpi_small.yaml\n    \u251c\u2500\u2500 stdio\n    \u2502   \u251c\u2500\u2500 test_hermes_stdio_adapter_bypass.yaml\n    \u2502   \u251c\u2500\u2500 test_hermes_stdio_adapter_default.yaml\n    \u2502   \u251c\u2500\u2500 test_hermes_stdio_adapter_scratch.yaml\n    \u2502   \u251c\u2500\u2500 test_hermes_stdio_basic_large.yaml\n    \u251c\u2500\u2500 test_borg.yaml\n    \u251c\u2500\u2500 test_ior.yaml\n    \u2514\u2500\u2500 vfd\n        \u251c\u2500\u2500 test_hermes_vfd_basic.yaml\n        \u251c\u2500\u2500 test_hermes_vfd_python.yaml\n        \u251c\u2500\u2500 test_hermes_vfd_scratch.yaml\n        \u2514\u2500\u2500 test_vfd_python.yaml\n"})}),"\n",(0,r.jsx)(n.h2,{id:"list-indexes",children:"List indexes"}),"\n",(0,r.jsx)(n.p,{children:"Since pipeline indexes are stored in repos, just list\nthe repos"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"jarvis repo list\n"})}),"\n",(0,r.jsx)(n.h2,{id:"index-queries",children:"Index Queries"}),"\n",(0,r.jsxs)(n.p,{children:["In the commands below, many commands have the parameter ",(0,r.jsx)(n.code,{children:"[index_query]"}),".\nAn index query is a dotted string in the following format:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[repo_name].[subdir1]...[subdirN].[script]\n"})}),"\n",(0,r.jsx)(n.p,{children:"For example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"jarvis_chimaera.bench_bw_ipc\njarvis_hermes.hermes.test_hermes\n"})}),"\n",(0,r.jsx)(n.p,{children:"NOTE: index queries do not include file extensions."}),"\n",(0,r.jsx)(n.h2,{id:"use-a-script-from-an-index",children:"Use a script from an index"}),"\n",(0,r.jsx)(n.p,{children:"To call a pipeline script stored in an index directly, you\ncan do:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"jarvis ppl index load [index_query]\n"})}),"\n",(0,r.jsx)(n.p,{children:"For example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"jarvis ppl index load jarvis_chimaera.bench_bw_ipc\njarvis ppl index load jarvis_hermes.hermes.test_hermes\n"})}),"\n",(0,r.jsx)(n.h2,{id:"copy-a-script-from-an-index",children:"Copy a script from an index"}),"\n",(0,r.jsxs)(n.p,{children:["You can copy a pipeline script from an index to your current\ndirectory or some other directory. You can then edit the\nparameters to the script and the call ",(0,r.jsx)(n.code,{children:"jarvis ppl load yaml"}),"\non your modified script."]}),"\n",(0,r.jsx)(n.p,{children:"To copy the script from an index:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"jarvis ppl index copy [index_query] [output (optional)]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Parameters:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"index_query: a dotted string indicating the script in the index to copy"}),"\n",(0,r.jsx)(n.li,{children:"output: a directory of file to copy the script to. If output is not provided,\nit will copy to the current working directory."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"For example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"jarvis ppl index copy jarvis_chimaera.bench_bw_ipc\njarvis ppl index copy jarvis_hermes.hermes.test_hermes\n"})})]})}function o(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>d});var s=i(96540);const r={},a=s.createContext(r);function t(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);