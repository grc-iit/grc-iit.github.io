<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-hermes/deploying-hermes" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Deploying Hermes | Gnosis Research Center</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://grc.iit.edu/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://grc.iit.edu/img/social-card.png"><meta data-rh="true" property="og:url" content="https://grc.iit.edu/docs/hermes/deploying-hermes"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="high-performance computing (hpc), memory and storage systems, scalable software systems, data management, data-centric systems, research center, scalable system software, technology research, computational research, innovative technology, scientific research"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deploying Hermes | Gnosis Research Center"><meta data-rh="true" name="description" content="Configuring + Deploying Hermes"><meta data-rh="true" property="og:description" content="Configuring + Deploying Hermes"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://grc.iit.edu/docs/hermes/deploying-hermes"><link data-rh="true" rel="alternate" href="https://grc.iit.edu/docs/hermes/deploying-hermes" hreflang="en"><link data-rh="true" rel="alternate" href="https://grc.iit.edu/docs/hermes/deploying-hermes" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Hermes","item":"https://grc.iit.edu/docs/category/hermes"},{"@type":"ListItem","position":2,"name":"Deploying Hermes","item":"https://grc.iit.edu/docs/hermes/deploying-hermes"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Gnosis Research Center RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Gnosis Research Center Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9SXDPLSLB2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-9SXDPLSLB2",{})</script>



<link rel="alternate" type="application/rss+xml" href="/newsletter/rss.xml" title="Gnosis Research Center RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/newsletter/atom.xml" title="Gnosis Research Center Atom Feed"><link rel="stylesheet" href="/assets/css/styles.5529de29.css">
<script src="/assets/js/runtime~main.4f7b3a1e.js" defer="defer"></script>
<script src="/assets/js/main.d2f92168.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Gnosis Research Center" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="Gnosis Research Center" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Gnosis Research Center</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Gnosis</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/about">About</a></li><li><a class="dropdown__link" href="/members">Members</a></li><li><a class="dropdown__link" href="/network">Network</a></li><li><a class="dropdown__link" href="/contact">Contact</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Research</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/research/projects">Projects</a></li><li><a class="dropdown__link" href="/research/patents">Patents</a></li><li><a class="dropdown__link" href="/resources/hardware-overview">Hardware Overview</a></li></ul></div><a class="navbar__item navbar__link" href="/news">News</a><a class="navbar__item navbar__link" href="/publications">Publications</a><a class="navbar__item navbar__link" href="/opportunities">Opportunities</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/index">Tutorials</a><a href="https://github.com/grc-iit" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/index">Welcome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/category/linux-introduction">HPC Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/iowarp">IOWarp</a><button aria-label="Expand sidebar category &#x27;IOWarp&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/hermes">Hermes</a><button aria-label="Collapse sidebar category &#x27;Hermes&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hermes/main-scenario">Main Scenario</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hermes/building-hermes">Building Hermes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/hermes/deploying-hermes">Deploying Hermes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hermes/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hermes/adapters">Adapters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hermes/programming">Programming</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/hermes/components/buffer-organizer">Components</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hermes/containers">Containers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hermes/developer-guide">Developer Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hermes/doxygen">Doxygen</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hermes/faq">Frequently Asked Questions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/chronolog">ChronoLog</a><button aria-label="Expand sidebar category &#x27;ChronoLog&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/wisio">WisIO</a><button aria-label="Expand sidebar category &#x27;WisIO&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/jarvis/jarvis-util/index">Jarvis</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/ares-research-cluster">Ares Research Cluster</a><button aria-label="Expand sidebar category &#x27;Ares Research Cluster&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/hermes"><span>Hermes</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Deploying Hermes</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Deploying Hermes</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring--deploying-hermes">Configuring + Deploying Hermes<a href="#configuring--deploying-hermes" class="hash-link" aria-label="Direct link to Configuring + Deploying Hermes" title="Direct link to Configuring + Deploying Hermes">​</a></h2>
<p>The Hermes daemon is responsible for tracking various metadata, and it is
required to be launched before your application. There should only be
one Hermes daemon per node. We recommend
<a href="https://github.com/grc-iit/jarvis-cd.git" target="_blank" rel="noopener noreferrer">Jarvis</a> for deploying Hermes.
Jarvis is a framework that configures and deploys complex applications and
services. Jarvis will automatically set various environment variables
that Hermes expects in order for applications to be deployed. We have
also integrated several applications into Jarvis that can be seamlessly
deployed with Hermes.</p>
<p>Jarvis is automatically installed as a dependency in GRC&#x27;s spack repo.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-the-jarvis-configuration">Building the Jarvis Configuration<a href="#building-the-jarvis-configuration" class="hash-link" aria-label="Direct link to Building the Jarvis Configuration" title="Direct link to Building the Jarvis Configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bootstrapping-for-a-single-node-machine">Bootstrapping for a single-node machine<a href="#bootstrapping-for-a-single-node-machine" class="hash-link" aria-label="Direct link to Bootstrapping for a single-node machine" title="Direct link to Bootstrapping for a single-node machine">​</a></h3>
<p>You may be trying to test things on just a single node.</p>
<p>In this case, run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis bootstrap from local</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bootstrapping-from-a-specific-machine">Bootstrapping from a specific machine<a href="#bootstrapping-from-a-specific-machine" class="hash-link" aria-label="Direct link to Bootstrapping from a specific machine" title="Direct link to Bootstrapping from a specific machine">​</a></h3>
<p>Jarvis has been pre-configured on some machines. To bootstrap from
one of them, run the following:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis bootstrap from ares</span><br></span></code></pre></div></div>
<p>NOTE: Jarvis must be installed from the compute nodes in Ares, NOT the master node. This is because we store configuration data in /mnt/ssd by default, which is only on compute nodes. We do not store data in /tmp since it will be eventually destroyed.</p>
<p>To check the set of available machines to bootstrap from, run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis bootstrap list</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-new-configuration">Creating a new configuration<a href="#creating-a-new-configuration" class="hash-link" aria-label="Direct link to Creating a new configuration" title="Direct link to Creating a new configuration">​</a></h3>
<p>A configuration can be generated as follows:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis init [CONFIG_DIR] [PRIVATE_DIR] [SHARED_DIR]</span><br></span></code></pre></div></div>
<ul>
<li><strong>CONFIG_DIR:</strong> A directory where jarvis metadata for pkgs and pipelines
are stored. This directory can be anywhere that the current user can access.</li>
<li><strong>PRIVATE_DIR:</strong> A directory which is common across all machines, but
stores data locally to the machine. Some jarvis pkgs require certain data to
be stored per-machine. OrangeFS is an example.</li>
<li><strong>SHARED_DIR:</strong> A directory which is common across all machines, where
each machine has the same view of data in the directory. Most jarvis pkgs
require this, but on machines without a global filesystem (e.g., Chameleon Cloud),
this parameter can be set later.</li>
</ul>
<p>For a personal machine, these directories can be the same directory.</p>
<p>In addition to initializing the jarvis conf file, you must also build a resource graph.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-the-active-hostfile">Set the active Hostfile<a href="#set-the-active-hostfile" class="hash-link" aria-label="Direct link to Set the active Hostfile" title="Direct link to Set the active Hostfile">​</a></h2>
<p>The hostfile contains the set of nodes that the pipeline will run over.
This is structured the same way as a traditional MPI hostfile.</p>
<p>An example hostfile:</p>
<div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ares-comp-20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ares-comp-[21-25]</span><br></span></code></pre></div></div>
<p>To set the active hostfile, run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis hostfile set /path/to/hostfile</span><br></span></code></pre></div></div>
<p>Note that every time you change the hostfile, you will need to update the
pipeline. Jarvis does not automatically detect changes to this file.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl update</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-the-resource-graph">Building the Resource Graph<a href="#building-the-resource-graph" class="hash-link" aria-label="Direct link to Building the Resource Graph" title="Direct link to Building the Resource Graph">​</a></h2>
<p>NOTE: This step only needs to be run if you did <code>jarvis bootstrap from local</code> or <code>jarvis init</code>.
If you bootstrap from a specific machine, then skip this section.</p>
<p>The resource graph is a snapshot of your systems network and storage.
Many packages depend on it for their configurations. The Hermes I/O system, for example,
uses this to identify valid networks and buffering locations.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis rg build</span><br></span></code></pre></div></div>
<p>This command should be executed on a subset of nodes on your machine that you plan to
run tests on. If the machines are similar, two nodes should be enough.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-an-environment">Building an Environment<a href="#building-an-environment" class="hash-link" aria-label="Direct link to Building an Environment" title="Direct link to Building an Environment">​</a></h2>
<p>We will now load all necessary environment variables and build a
Jarvis environment named hermes_env:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">spack load hermes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jarvis env build hermes_env</span><br></span></code></pre></div></div>
<p>hermes_env will store all important environment variables, including PATH,
LD_LIBRARY_PATH, etc. in a YAML file. This will make it so that you do not
need to repeatedly run spack load and module load if the machine is broken.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-pipeline">Create a pipeline<a href="#create-a-pipeline" class="hash-link" aria-label="Direct link to Create a pipeline" title="Direct link to Create a pipeline">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl create hermes</span><br></span></code></pre></div></div>
<p>hermes is the name of the pipeline. It doesn&#x27;t need to be hermes,
it can be any name.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="copy-the-environment-cache">Copy the environment cache<a href="#copy-the-environment-cache" class="hash-link" aria-label="Direct link to Copy the environment cache" title="Direct link to Copy the environment cache">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl env copy hermes_env</span><br></span></code></pre></div></div>
<p>This will use the hermes_env environment that was previously created in</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-hermes-runtime">Add Hermes runtime<a href="#add-hermes-runtime" class="hash-link" aria-label="Direct link to Add Hermes runtime" title="Direct link to Add Hermes runtime">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl append hermes_run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jarvis pkg configure hermes_run \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sleep=5 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">include=${HOME}/ior_data</span><br></span></code></pre></div></div>
<p>Jarvis will automatically produce a Hermes client and server configuration that
contains all storage devices and fastest available network defined in the
resource graph. These configurations will be located in:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$(jarvis path +shared)/hermes_run/hermes_server.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$(jarvis path +shared)/hermes_run/hermes_client.yaml</span><br></span></code></pre></div></div>
<p>To view all parameters of the Hermes package, you can run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis pkg help hermes_run</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="starting--stopping-hermes">Starting + Stopping Hermes<a href="#starting--stopping-hermes" class="hash-link" aria-label="Direct link to Starting + Stopping Hermes" title="Direct link to Starting + Stopping Hermes">​</a></h3>
<p>To start Hermes:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl start</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stopping-and-killing-hermes">Stopping and Killing Hermes<a href="#stopping-and-killing-hermes" class="hash-link" aria-label="Direct link to Stopping and Killing Hermes" title="Direct link to Stopping and Killing Hermes">​</a></h3>
<p>To gracefully stop Hermes and flush data back to the PFS:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl stop</span><br></span></code></pre></div></div>
<p>To kill a Hermes deployment that isn&#x27;t stopping gracefully:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl kill</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cleanup">Cleanup<a href="#cleanup" class="hash-link" aria-label="Direct link to Cleanup" title="Direct link to Cleanup">​</a></h3>
<p>To erase data produced by the pipeline:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl clean</span><br></span></code></pre></div></div>
<p>To destroy the pipeline:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl destroy</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="changing-the-active-hostfile">Changing the active Hostfile<a href="#changing-the-active-hostfile" class="hash-link" aria-label="Direct link to Changing the active Hostfile" title="Direct link to Changing the active Hostfile">​</a></h2>
<p>You may want to change the hostfile at some point. This can
be done using the same command as before.</p>
<p>However, note that every time you change the hostfile, you will need to update the
pipeline. Jarvis does not automatically detect changes to this file.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl update</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring--deploying-hermes-with-an-application">Configuring + Deploying Hermes with an Application<a href="#configuring--deploying-hermes-with-an-application" class="hash-link" aria-label="Direct link to Configuring + Deploying Hermes with an Application" title="Direct link to Configuring + Deploying Hermes with an Application">​</a></h2>
<p>As previously stated, Jarvis can be used to deploy and application
with Hermes. This will automatically set environment variables
(e.g., LD_PRELOAD) that will be necessary for the application to
run.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-an-environment">Build an Environment<a href="#build-an-environment" class="hash-link" aria-label="Direct link to Build an Environment" title="Direct link to Build an Environment">​</a></h3>
<p>We will now load all necessary environment variables and build a
Jarvis environment named hermes_env:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">spack load hermes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spack load ior</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jarvis env build hermes_ior_env</span><br></span></code></pre></div></div>
<p>hermes_ior_env will store all important environment variables, including PATH,
LD_LIBRARY_PATH, etc. in a YAML file.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-an-empty-pipeline">Create an empty pipeline<a href="#create-an-empty-pipeline" class="hash-link" aria-label="Direct link to Create an empty pipeline" title="Direct link to Create an empty pipeline">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl create hermes_ior</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="copy-the-environment-cache-1">Copy the environment cache<a href="#copy-the-environment-cache-1" class="hash-link" aria-label="Direct link to Copy the environment cache" title="Direct link to Copy the environment cache">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl env copy hermes_ior_env</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-the-active-hostfile-1">Set the active hostfile<a href="#set-the-active-hostfile-1" class="hash-link" aria-label="Direct link to Set the active hostfile" title="Direct link to Set the active hostfile">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis hostfile set /path/to/hostfile</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-hermes-runtime-1">Add Hermes runtime<a href="#add-hermes-runtime-1" class="hash-link" aria-label="Direct link to Add Hermes runtime" title="Direct link to Add Hermes runtime">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl append hermes_run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jarvis pkg configure hermes_run \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sleep=5 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">include=${HOME}/ior_data</span><br></span></code></pre></div></div>
<p>This will ensure that if a Hermes interceptor is used, it will intercept
all paths in <code>${HOME}/ior_data</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-hermes-mpi-io-interceptor">Add Hermes MPI-IO interceptor<a href="#add-hermes-mpi-io-interceptor" class="hash-link" aria-label="Direct link to Add Hermes MPI-IO interceptor" title="Direct link to Add Hermes MPI-IO interceptor">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl append hermes_api +mpi</span><br></span></code></pre></div></div>
<p>This will automatically locate the interceptor library by
traversing various environment variables. This will ensure
that MPI-IO is intercepted by Hermes.</p>
<p>hermes_api includes other interceptors that can be used: posix, stdio, vfd. To view the set of options:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis pkg help hermes_run</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-ior">Add IOR<a href="#add-ior" class="hash-link" aria-label="Direct link to Add IOR" title="Direct link to Add IOR">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl append ior</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jarvis pkg configure ior \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xfer=1m \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">block=1g \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nprocs=64 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ppn=16 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+write +read \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">out=${HOME}/ior_data/ior.bin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api=mpiio</span><br></span></code></pre></div></div>
<p>This IOR will perform 1GB of I/O per-process (block) in units of 1m (xfer) and
produce a single output file <code>${HOME}/ior_data/ior.bin</code>(out) using MPI-IO
(api). The total amount of I/O performed will be 64GB spread across 4 nodes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-the-pipeline">Run the Pipeline<a href="#run-the-pipeline" class="hash-link" aria-label="Direct link to Run the Pipeline" title="Direct link to Run the Pipeline">​</a></h3>
<p>To run the pipeline:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl run</span><br></span></code></pre></div></div>
<p>This will launch Hermes, execute IOR, and then stop Hermes. It is equivalent
to:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl stop</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cleanup-1">Cleanup<a href="#cleanup-1" class="hash-link" aria-label="Direct link to Cleanup" title="Direct link to Cleanup">​</a></h3>
<p>The following will delete intermediate data generated by Hermes + IOR:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jarvis ppl clean</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-my-application-hanging">Why is my application hanging?<a href="#why-is-my-application-hanging" class="hash-link" aria-label="Direct link to Why is my application hanging?" title="Direct link to Why is my application hanging?">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resource-graph-misconfiguration">Resource Graph Misconfiguration<a href="#resource-graph-misconfiguration" class="hash-link" aria-label="Direct link to Resource Graph Misconfiguration" title="Direct link to Resource Graph Misconfiguration">​</a></h3>
<p>Commonly, the cause is a misconfiguration in the resource graph, specifically
with the network section. If the resource graph is misconfigured, Hermes may
crash with a <code>mercury-&gt;fatal</code> error and ultimately cause the program to stall
forever. Make sure that the domain, provider, and fabric are valid. To view the
Hermes configuration to see which network was selected from your resource graph,
you can run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat $(jarvis path)/hermes_run/hermes_server.yaml</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dependency-problems">Dependency Problems<a href="#dependency-problems" class="hash-link" aria-label="Direct link to Dependency Problems" title="Direct link to Dependency Problems">​</a></h3>
<p>If you are using the MPI-IO interceptor, make sure that the MPI that Hermes
compiled with is equivalent to the one your application was compiled with.
You may have multiple versions of MPI installed and if you didn&#x27;t specify
which one when installing Hermes and your program -- they may be different.</p>
<p>If you are using the VFD, make sure the VFD was compiled with the same HDF5
as the application.</p>
<p>To view the dependencies of your installed Hermes, run:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">spack find -c -d hermes</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="machine-misconfiguration">Machine Misconfiguration<a href="#machine-misconfiguration" class="hash-link" aria-label="Direct link to Machine Misconfiguration" title="Direct link to Machine Misconfiguration">​</a></h3>
<p>We have found certain instances where using semantic hostnames in the hostfile
has resulted in incorrect behavior. If the machine is misconfigured, it is
possible that a hostname maps to a different network domain on different nodes.
To verify this, you can try using exact IP addresses in your hostfile.</p>
<p>To view your machine&#x27;s IP addresses, you can run
<code>ip addr show</code> or <code>fi_info | grep fabric</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="permissions-problems">Permissions Problems<a href="#permissions-problems" class="hash-link" aria-label="Direct link to Permissions Problems" title="Direct link to Permissions Problems">​</a></h3>
<p>If you cannot SSH between machines or if your known_hosts file is outdated,
it is possible that Hermes will fail to launch due to permissions problems
on the network. Make sure that you can SSH between machines without error.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/hermes/building-hermes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Building Hermes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/hermes/configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configuring--deploying-hermes" class="table-of-contents__link toc-highlight">Configuring + Deploying Hermes</a></li><li><a href="#building-the-jarvis-configuration" class="table-of-contents__link toc-highlight">Building the Jarvis Configuration</a><ul><li><a href="#bootstrapping-for-a-single-node-machine" class="table-of-contents__link toc-highlight">Bootstrapping for a single-node machine</a></li><li><a href="#bootstrapping-from-a-specific-machine" class="table-of-contents__link toc-highlight">Bootstrapping from a specific machine</a></li><li><a href="#creating-a-new-configuration" class="table-of-contents__link toc-highlight">Creating a new configuration</a></li></ul></li><li><a href="#set-the-active-hostfile" class="table-of-contents__link toc-highlight">Set the active Hostfile</a></li><li><a href="#building-the-resource-graph" class="table-of-contents__link toc-highlight">Building the Resource Graph</a></li><li><a href="#building-an-environment" class="table-of-contents__link toc-highlight">Building an Environment</a></li><li><a href="#create-a-pipeline" class="table-of-contents__link toc-highlight">Create a pipeline</a><ul><li><a href="#copy-the-environment-cache" class="table-of-contents__link toc-highlight">Copy the environment cache</a></li><li><a href="#add-hermes-runtime" class="table-of-contents__link toc-highlight">Add Hermes runtime</a></li><li><a href="#starting--stopping-hermes" class="table-of-contents__link toc-highlight">Starting + Stopping Hermes</a></li><li><a href="#stopping-and-killing-hermes" class="table-of-contents__link toc-highlight">Stopping and Killing Hermes</a></li><li><a href="#cleanup" class="table-of-contents__link toc-highlight">Cleanup</a></li></ul></li><li><a href="#changing-the-active-hostfile" class="table-of-contents__link toc-highlight">Changing the active Hostfile</a></li><li><a href="#configuring--deploying-hermes-with-an-application" class="table-of-contents__link toc-highlight">Configuring + Deploying Hermes with an Application</a><ul><li><a href="#build-an-environment" class="table-of-contents__link toc-highlight">Build an Environment</a></li><li><a href="#create-an-empty-pipeline" class="table-of-contents__link toc-highlight">Create an empty pipeline</a></li><li><a href="#copy-the-environment-cache-1" class="table-of-contents__link toc-highlight">Copy the environment cache</a></li><li><a href="#set-the-active-hostfile-1" class="table-of-contents__link toc-highlight">Set the active hostfile</a></li><li><a href="#add-hermes-runtime-1" class="table-of-contents__link toc-highlight">Add Hermes runtime</a></li><li><a href="#add-hermes-mpi-io-interceptor" class="table-of-contents__link toc-highlight">Add Hermes MPI-IO interceptor</a></li><li><a href="#add-ior" class="table-of-contents__link toc-highlight">Add IOR</a></li><li><a href="#run-the-pipeline" class="table-of-contents__link toc-highlight">Run the Pipeline</a></li><li><a href="#cleanup-1" class="table-of-contents__link toc-highlight">Cleanup</a></li></ul></li><li><a href="#why-is-my-application-hanging" class="table-of-contents__link toc-highlight">Why is my application hanging?</a><ul><li><a href="#resource-graph-misconfiguration" class="table-of-contents__link toc-highlight">Resource Graph Misconfiguration</a></li><li><a href="#dependency-problems" class="table-of-contents__link toc-highlight">Dependency Problems</a></li><li><a href="#machine-misconfiguration" class="table-of-contents__link toc-highlight">Machine Misconfiguration</a></li><li><a href="#permissions-problems" class="table-of-contents__link toc-highlight">Permissions Problems</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Gnosis Research Center</div><ul class="footer__items clean-list"><li class="footer__item">
                  <p>
                    Stuart Building <br>
                    Room 112i and 010 <br>
                    10 W. 31st Street <br>
                    Chicago, Illinois 60616
                  </p>
                </li><li class="footer__item">
                  <p>
                    Email: <a href="mailto:grc@illinoistech.edu" target="_blank" rel="noopener noreferrer">grc@illinoistech.edu</a> <br>
                    Phone: <a href="tel:3125676885" target="_blank" rel="noopener noreferrer">+1 312 567 6885</a>
                  </p>
                </li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Featured Projects</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/research/projects/iowarp">IOWarp</a></li><li class="footer__item"><a class="footer__link-item" href="/research/projects/chronolog">ChronoLog</a></li><li class="footer__item"><a class="footer__link-item" href="/research/projects/labios">LABIOS</a></li><li class="footer__item"><a class="footer__link-item" href="/research/projects/coeus">Coeus</a></li><li class="footer__item"><a class="footer__link-item" href="/research/projects/hermes">Hermes</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Tutorials</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/linux-introduction">Linux Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/installing-hpc-software">Installing HPC Software</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/important-environment-variables">Important Environment Variables</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/c-introduction">C++ Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/ares-research-cluster">Ares User Guide</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/careers">GRC Careers</a></li><li class="footer__item"><a href="https://github.com/grc-iit" target="_blank" rel="noopener noreferrer" class="footer__link-item">GRC GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/gnosis-research-center/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GRC LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/grc_iit" target="_blank" rel="noopener noreferrer" class="footer__link-item">GRC X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCNtEyAt4_ckpIbX-gSv8sww" target="_blank" rel="noopener noreferrer" class="footer__link-item">GRC YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.iit.edu/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Illinois Tech<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="http://cs.iit.edu/~scs/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SCS Lab<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Gnosis Research Center (GRC).</div></div></div></footer></div>
</body>
</html>